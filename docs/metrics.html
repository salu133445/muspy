

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Metrics &mdash; MusPy  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Visualization" href="visualization.html" />
    <link rel="prev" title="Note-based Representation" href="representations/note.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html">
          

          
            
            <img src="_static/logo.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="example.html">Example Music Object</a></li>
<li class="toctree-l1"><a class="reference internal" href="timing.html">Timing in MusPy</a></li>
<li class="toctree-l1"><a class="reference internal" href="classes/index.html">MusPy Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="io.html">Data I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="datasets.html">Datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="representations/index.html">Representations</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Metrics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#pitch-related-metrics">Pitch-related metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="#rhythm-related-metrics">Rhythm-related metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="#other-metrics">Other metrics</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="visualization.html">Visualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="doc/index.html">Technical Documentation</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MusPy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Metrics</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/metrics.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="metrics">
<h1>Metrics<a class="headerlink" href="#metrics" title="Permalink to this headline">¶</a></h1>
<p>MusPy provides several several objective metrics proposed in the literature, summarized as follows.</p>
<ul class="simple">
<li><p><strong>Pitch-related metrics</strong>: pitch_range, n_pitches_used, n_pitch_classes_used, polyphony, polyphony rate, pitch-in-scale rate, scale consistency, pitch entropy and pitch class entropy.</p></li>
<li><p><strong>Rhythm-related metrics</strong>: empty-beat rate, drum-in-pattern rate, drum pattern consistency and groove consistency.</p></li>
<li><p><strong>Other metrics</strong>: empty_measure_rate.</p></li>
</ul>
<p>These objective metrics could be used to evaluate a music generation system by comparing the statistical difference between the training data and the generated samples.</p>
<div class="section" id="pitch-related-metrics">
<h2>Pitch-related metrics<a class="headerlink" href="#pitch-related-metrics" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt>
<code class="sig-prename descclassname">muspy.</code><code class="sig-name descname">pitch_range</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">music</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/muspy/metrics/metrics.html#pitch_range"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the pitch range.</p>
<p>Drum tracks are ignored. Return zero if no note is found.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>music</strong> (<a class="reference internal" href="doc/muspy.html#muspy.Music" title="muspy.Music"><code class="xref py py-class docutils literal notranslate"><span class="pre">muspy.Music</span></code></a> object) – Music object to evaluate.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Pitch range.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt>
<code class="sig-prename descclassname">muspy.</code><code class="sig-name descname">n_pitches_used</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">music</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/muspy/metrics/metrics.html#n_pitches_used"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the number of unique pitches used.</p>
<p>Drum tracks are ignored.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>music</strong> (<a class="reference internal" href="doc/muspy.html#muspy.Music" title="muspy.Music"><code class="xref py py-class docutils literal notranslate"><span class="pre">muspy.Music</span></code></a> object) – Music object to evaluate.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Number of unique pitch classes used.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-func docutils literal notranslate"><span class="pre">muspy.n_pitch_class_used()</span></code></dt><dd><p>Compute the number of unique pitch classes used.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt>
<code class="sig-prename descclassname">muspy.</code><code class="sig-name descname">n_pitch_classes_used</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">music</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/muspy/metrics/metrics.html#n_pitch_classes_used"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the number of unique pitch classes used.</p>
<p>Drum tracks are ignored.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>music</strong> (<a class="reference internal" href="doc/muspy.html#muspy.Music" title="muspy.Music"><code class="xref py py-class docutils literal notranslate"><span class="pre">muspy.Music</span></code></a> object) – Music object to evaluate.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Number of unique pitch classes used.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="doc/muspy.html#muspy.n_pitches_used" title="muspy.n_pitches_used"><code class="xref py py-func docutils literal notranslate"><span class="pre">muspy.n_pitches_used()</span></code></a></dt><dd><p>Compute the number of unique pitches used.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt>
<code class="sig-prename descclassname">muspy.</code><code class="sig-name descname">polyphony</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">music</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/muspy/metrics/metrics.html#polyphony"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the average number of pitches being played at the same time.</p>
<p>The polyphony is defined as the average number of pitches being played
at the same time, evaluated only at time steps where at least one pitch
is on. Drum tracks are ignored. Return NaN if no note is found.</p>
<div class="math notranslate nohighlight">
\[polyphony = \frac{
    \#(pitches\_when\_at\_least\_one\_pitch\_is\_on)
}{
    \#(time\_steps\_where\_at\_least\_one\_pitch\_is\_on)
}\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>music</strong> (<a class="reference internal" href="doc/muspy.html#muspy.Music" title="muspy.Music"><code class="xref py py-class docutils literal notranslate"><span class="pre">muspy.Music</span></code></a> object) – Music object to evaluate.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Polyphony.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="doc/muspy.html#muspy.polyphony_rate" title="muspy.polyphony_rate"><code class="xref py py-func docutils literal notranslate"><span class="pre">muspy.polyphony_rate()</span></code></a></dt><dd><p>Compute the ratio of time steps where multiple pitches are on.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt>
<code class="sig-prename descclassname">muspy.</code><code class="sig-name descname">polyphony_rate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">music</span></em>, <em class="sig-param"><span class="n">threshold</span><span class="o">=</span><span class="default_value">2</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/muspy/metrics/metrics.html#polyphony_rate"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the ratio of time steps where multiple pitches are on.</p>
<p>The polyphony is defined as the ratio of the number of time steps where
multiple pitches are on to the total number of time steps. Drum tracks
are ignored. Return NaN if song length is zero. This metric is used in
[1], where it is called <em>polyphonicity</em>.</p>
<div class="math notranslate nohighlight">
\[polyphony\_rate = \frac{
    \#(time\_steps\_where\_multiple\_pitches\_are\_on)
}{
    \#(time\_steps)
}\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>music</strong> (<a class="reference internal" href="doc/muspy.html#muspy.Music" title="muspy.Music"><code class="xref py py-class docutils literal notranslate"><span class="pre">muspy.Music</span></code></a> object) – Music object to evaluate.</p></li>
<li><p><strong>threshold</strong> (<em>int</em>) – The threshold of number of pitches to count into the numerator.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Polyphony rate.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="doc/muspy.html#muspy.polyphony" title="muspy.polyphony"><code class="xref py py-func docutils literal notranslate"><span class="pre">muspy.polyphony()</span></code></a></dt><dd><p>Compute the average number of pitches being played at the same time.</p>
</dd>
</dl>
</div>
<p class="rubric">References</p>
<ol class="arabic simple">
<li><p>Hao-Wen Dong, Wen-Yi Hsiao, Li-Chia Yang, and Yi-Hsuan Yang,
“MuseGAN: Multi-track sequential generative adversarial networks for
symbolic music generation and accompaniment,” in Proceedings of the
32nd AAAI Conference on Artificial Intelligence (AAAI), 2018.</p></li>
</ol>
</dd></dl>

<dl class="py function">
<dt>
<code class="sig-prename descclassname">muspy.</code><code class="sig-name descname">pitch_in_scale_rate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">music</span></em>, <em class="sig-param"><span class="n">root</span></em>, <em class="sig-param"><span class="n">mode</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/muspy/metrics/metrics.html#pitch_in_scale_rate"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the ratio of pitches in a certain musical scale.</p>
<p>The pitch-in-scale rate is defined as the ratio of the number of notes
in a certain scale to the total number of notes. Drum tracks are
ignored. Return NaN if no note is found. This metric is used in [1].</p>
<div class="math notranslate nohighlight">
\[pitch\_in\_scale\_rate = \frac{\#(notes\_in\_scale)}{\#(notes)}\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>music</strong> (<a class="reference internal" href="doc/muspy.html#muspy.Music" title="muspy.Music"><code class="xref py py-class docutils literal notranslate"><span class="pre">muspy.Music</span></code></a> object) – Music object to evaluate.</p></li>
<li><p><strong>root</strong> (<em>int</em>) – Root of the scale.</p></li>
<li><p><strong>mode</strong> (<em>int</em>) – Mode of the scale.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Pitch-in-scale rate.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="doc/muspy.html#muspy.scale_consistency" title="muspy.scale_consistency"><code class="xref py py-func docutils literal notranslate"><span class="pre">muspy.scale_consistency()</span></code></a></dt><dd><p>Compute the largest pitch-in-class rate.</p>
</dd>
</dl>
</div>
<p class="rubric">References</p>
<ol class="arabic simple">
<li><p>Hao-Wen Dong, Wen-Yi Hsiao, Li-Chia Yang, and Yi-Hsuan Yang,
“MuseGAN: Multi-track sequential generative adversarial networks for
symbolic music generation and accompaniment,” in Proceedings of the
32nd AAAI Conference on Artificial Intelligence (AAAI), 2018.</p></li>
</ol>
</dd></dl>

<dl class="py function">
<dt>
<code class="sig-prename descclassname">muspy.</code><code class="sig-name descname">scale_consistency</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">music</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/muspy/metrics/metrics.html#scale_consistency"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the largest pitch-in-scale rate.</p>
<p>The scale consistency is defined as the largest pitch-in-scale rate over
all major and minor scales. Drum tracks are ignored. Return NaN if no
note is found. This metric is used in [1].</p>
<div class="math notranslate nohighlight">
\[scale\_consistency = \max_{root, mode}{
    pitch\_in\_scale\_rate(root, mode)}\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>music</strong> (<a class="reference internal" href="doc/muspy.html#muspy.Music" title="muspy.Music"><code class="xref py py-class docutils literal notranslate"><span class="pre">muspy.Music</span></code></a> object) – Music object to evaluate.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Scale consistency.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="doc/muspy.html#muspy.pitch_in_scale_rate" title="muspy.pitch_in_scale_rate"><code class="xref py py-func docutils literal notranslate"><span class="pre">muspy.pitch_in_scale_rate()</span></code></a></dt><dd><p>Compute the ratio of pitches in a certain musical scale.</p>
</dd>
</dl>
</div>
<p class="rubric">References</p>
<ol class="arabic simple">
<li><p>Olof Mogren, “C-RNN-GAN: Continuous recurrent neural networks with
adversarial training,” in NeuIPS Workshop on Constructive Machine
Learning, 2016.</p></li>
</ol>
</dd></dl>

<dl class="py function">
<dt>
<code class="sig-prename descclassname">muspy.</code><code class="sig-name descname">pitch_entropy</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">music</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/muspy/metrics/metrics.html#pitch_entropy"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the entropy of the normalized note pitch histogram.</p>
<p>The pitch entropy is defined as the Shannon entropy of the normalized
note pitch histogram. Drum tracks are ignored. Return NaN if no note is
found.</p>
<div class="math notranslate nohighlight">
\[pitch\_entropy = -\sum_{i = 0}^{127}{P(pitch=i) \log_2 P(pitch=i)}\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>music</strong> (<a class="reference internal" href="doc/muspy.html#muspy.Music" title="muspy.Music"><code class="xref py py-class docutils literal notranslate"><span class="pre">muspy.Music</span></code></a> object) – Music object to evaluate.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Pitch entropy.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="doc/muspy.html#muspy.pitch_class_entropy" title="muspy.pitch_class_entropy"><code class="xref py py-func docutils literal notranslate"><span class="pre">muspy.pitch_class_entropy()</span></code></a></dt><dd><p>Compute the entropy of the normalized pitch class histogram.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt>
<code class="sig-prename descclassname">muspy.</code><code class="sig-name descname">pitch_class_entropy</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">music</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/muspy/metrics/metrics.html#pitch_class_entropy"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the entropy of the normalized note pitch class histogram.</p>
<p>The pitch class entropy is defined as the Shannon entropy of the
normalized note pitch class histogram. Drum tracks are ignored. Return
NaN if no note is found. This metric is used in [1].</p>
<div class="math notranslate nohighlight">
\[pitch\_class\_entropy = -\sum_{i = 0}^{11}{
    P(pitch\_class=i) \times \log_2 P(pitch\_class=i)}\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>music</strong> (<a class="reference internal" href="doc/muspy.html#muspy.Music" title="muspy.Music"><code class="xref py py-class docutils literal notranslate"><span class="pre">muspy.Music</span></code></a> object) – Music object to evaluate.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Pitch class entropy.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="doc/muspy.html#muspy.pitch_entropy" title="muspy.pitch_entropy"><code class="xref py py-func docutils literal notranslate"><span class="pre">muspy.pitch_entropy()</span></code></a></dt><dd><p>Compute the entropy of the normalized pitch histogram.</p>
</dd>
</dl>
</div>
<p class="rubric">References</p>
<ol class="arabic simple">
<li><p>Shih-Lun Wu and Yi-Hsuan Yang, “The Jazz Transformer on the Front
Line: Exploring the Shortcomings of AI-composed Music through
Quantitative Measures”, in Proceedings of the 21st International
Society for Music Information Retrieval Conference, 2020.</p></li>
</ol>
</dd></dl>

</div>
<div class="section" id="rhythm-related-metrics">
<h2>Rhythm-related metrics<a class="headerlink" href="#rhythm-related-metrics" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt>
<code class="sig-prename descclassname">muspy.</code><code class="sig-name descname">empty_beat_rate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">music</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/muspy/metrics/metrics.html#empty_beat_rate"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the ratio of empty beats.</p>
<p>The empty-beat rate is defined as the ratio of the number of empty beats
(where no note is played) to the total number of beats. Return NaN if
song length is zero. This metric is also implemented in Pypianoroll [1].</p>
<div class="math notranslate nohighlight">
\[empty\_beat\_rate = \frac{\#(empty\_beats)}{\#(beats)}\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>music</strong> (<a class="reference internal" href="doc/muspy.html#muspy.Music" title="muspy.Music"><code class="xref py py-class docutils literal notranslate"><span class="pre">muspy.Music</span></code></a> object) – Music object to evaluate.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Empty-beat rate.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="doc/muspy.html#muspy.empty_measure_rate" title="muspy.empty_measure_rate"><code class="xref py py-func docutils literal notranslate"><span class="pre">muspy.empty_measure_rate()</span></code></a></dt><dd><p>Compute the ratio of empty measures.</p>
</dd>
</dl>
</div>
<p class="rubric">References</p>
<ol class="arabic simple">
<li><p>Hao-Wen Dong, Wen-Yi Hsiao, and Yi-Hsuan Yang, “Pypianoroll: Open
Source Python Package for Handling Multitrack Pianorolls,” in
Late-Breaking Demos of the 18th International Society for Music
Information Retrieval Conference (ISMIR), 2018.</p></li>
</ol>
</dd></dl>

<dl class="py function">
<dt>
<code class="sig-prename descclassname">muspy.</code><code class="sig-name descname">drum_in_pattern_rate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">music</span></em>, <em class="sig-param"><span class="n">meter</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/muspy/metrics/metrics.html#drum_in_pattern_rate"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the ratio of drum notes in a certain drum pattern.</p>
<p>The drum-in-pattern rate is defined as the ratio of the number of
notes in a certain scale to the total number of notes. Only drum tracks
are considered. Return NaN if no drum note is found. This metric is used
in [1].</p>
<div class="math notranslate nohighlight">
\[drum\_in\_pattern\_rate = \frac{
    \#(drum\_notes\_in\_pattern)}{\#(drum\_notes)}\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>music</strong> (<a class="reference internal" href="doc/muspy.html#muspy.Music" title="muspy.Music"><code class="xref py py-class docutils literal notranslate"><span class="pre">muspy.Music</span></code></a> object) – Music object to evaluate.</p></li>
<li><p><strong>meter</strong> (<em>str</em><em>, </em><em>{'duple'</em><em>, </em><em>'triple'}</em>) – Meter of the drum pattern.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Drum-in-pattern rate.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="doc/muspy.html#muspy.drum_pattern_consistency" title="muspy.drum_pattern_consistency"><code class="xref py py-func docutils literal notranslate"><span class="pre">muspy.drum_pattern_consistency()</span></code></a></dt><dd><p>Compute the largest drum-in-pattern rate.</p>
</dd>
</dl>
</div>
<p class="rubric">References</p>
<ol class="arabic simple">
<li><p>Hao-Wen Dong, Wen-Yi Hsiao, Li-Chia Yang, and Yi-Hsuan Yang,
“MuseGAN: Multi-track sequential generative adversarial networks for
symbolic music generation and accompaniment,” in Proceedings of the
32nd AAAI Conference on Artificial Intelligence (AAAI), 2018.</p></li>
</ol>
</dd></dl>

<dl class="py function">
<dt>
<code class="sig-prename descclassname">muspy.</code><code class="sig-name descname">drum_pattern_consistency</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">music</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/muspy/metrics/metrics.html#drum_pattern_consistency"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the largest drum-in-pattern rate.</p>
<p>The drum pattern consistency is defined as the largest drum-in-pattern
rate over duple and triple meters. Only drum tracks are considered.
Return NaN if no drum note is found.</p>
<div class="math notranslate nohighlight">
\[drum\_pattern\_consistency = \max_{meter}{
    drum\_in\_pattern\_rate(meter)}\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>music</strong> (<a class="reference internal" href="doc/muspy.html#muspy.Music" title="muspy.Music"><code class="xref py py-class docutils literal notranslate"><span class="pre">muspy.Music</span></code></a> object) – Music object to evaluate.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Drum pattern consistency.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="doc/muspy.html#muspy.drum_in_pattern_rate" title="muspy.drum_in_pattern_rate"><code class="xref py py-func docutils literal notranslate"><span class="pre">muspy.drum_in_pattern_rate()</span></code></a></dt><dd><p>Compute the ratio of drum notes in a certain drum pattern.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt>
<code class="sig-prename descclassname">muspy.</code><code class="sig-name descname">groove_consistency</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">music</span></em>, <em class="sig-param"><span class="n">measure_resolution</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/muspy/metrics/metrics.html#groove_consistency"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the groove consistency.</p>
<p>The groove consistency is defined as the mean hamming distance of the
neighboring measures.</p>
<div class="math notranslate nohighlight">
\[groove\_consistency = 1 - \frac{1}{T - 1} \sum_{i = 1}^{T - 1}{
    d(G_i, G_{i + 1})}\]</div>
<p>Here, <span class="math notranslate nohighlight">\(T\)</span> is the number of measures, <span class="math notranslate nohighlight">\(G_i\)</span> is the binary
onset vector of the <span class="math notranslate nohighlight">\(i\)</span>-th measure (a one at position that has an
onset, otherwise a zero), and <span class="math notranslate nohighlight">\(d(G, G')\)</span> is the hamming distance
between two vectors <span class="math notranslate nohighlight">\(G\)</span> and <span class="math notranslate nohighlight">\(G'\)</span>. Note that this metric only
works for songs with a constant time signature. Return NaN if the number
of measures is less than two. This metric is used in [1].</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>music</strong> (<a class="reference internal" href="doc/muspy.html#muspy.Music" title="muspy.Music"><code class="xref py py-class docutils literal notranslate"><span class="pre">muspy.Music</span></code></a> object) – Music object to evaluate.</p></li>
<li><p><strong>measure_resolution</strong> (<em>int</em>) – Time steps per measure.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Groove consistency.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p class="rubric">References</p>
<ol class="arabic simple">
<li><p>Shih-Lun Wu and Yi-Hsuan Yang, “The Jazz Transformer on the Front
Line: Exploring the Shortcomings of AI-composed Music through
Quantitative Measures”, in Proceedings of the 21st International
Society for Music Information Retrieval Conference, 2020.</p></li>
</ol>
</dd></dl>

</div>
<div class="section" id="other-metrics">
<h2>Other metrics<a class="headerlink" href="#other-metrics" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt>
<code class="sig-prename descclassname">muspy.</code><code class="sig-name descname">empty_measure_rate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">music</span></em>, <em class="sig-param"><span class="n">measure_resolution</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/muspy/metrics/metrics.html#empty_measure_rate"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the ratio of empty measures.</p>
<p>The empty-measure rate is defined as the ratio of the number of empty
measures (where no note is played) to the total number of measures. Note
that this metric only works for songs with a constant time signature.
Return NaN if song length is zero. This metric is used in [1].</p>
<div class="math notranslate nohighlight">
\[empty\_measure\_rate = \frac{\#(empty\_measures)}{\#(measures)}\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>music</strong> (<a class="reference internal" href="doc/muspy.html#muspy.Music" title="muspy.Music"><code class="xref py py-class docutils literal notranslate"><span class="pre">muspy.Music</span></code></a> object) – Music object to evaluate.</p></li>
<li><p><strong>measure_resolution</strong> (<em>int</em>) – Time steps per measure.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Empty-measure rate.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="doc/muspy.html#muspy.empty_beat_rate" title="muspy.empty_beat_rate"><code class="xref py py-func docutils literal notranslate"><span class="pre">muspy.empty_beat_rate()</span></code></a></dt><dd><p>Compute the ratio of empty beats.</p>
</dd>
</dl>
</div>
<p class="rubric">References</p>
<ol class="arabic simple">
<li><p>Hao-Wen Dong, Wen-Yi Hsiao, Li-Chia Yang, and Yi-Hsuan Yang,
“MuseGAN: Multi-track sequential generative adversarial networks for
symbolic music generation and accompaniment,” in Proceedings of the
32nd AAAI Conference on Artificial Intelligence (AAAI), 2018.</p></li>
</ol>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="visualization.html" class="btn btn-neutral float-right" title="Visualization" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="representations/note.html" class="btn btn-neutral float-left" title="Note-based Representation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright MusPy Developers

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>